---
description: 
globs: **/*.css,**/*.tsx,**/*.ts
alwaysApply: false
---

<!--
## Personal Notes: Initial Rule Settings
- ruleType: Auto Attached
- globs: **/*.css,**/*.ts,**/*.tsx
- description: Styling rules using Tailwind CSS, custom theme configuration, responsive design approaches, and shadcn/ui component usage guide.
 -->

# Styling and UI Guide

## 1. Introduction

This guide serves as a **foundational UI/UX and development style guide** for projects using React, TypeScript (`.tsx`), Tailwind CSS, and Vite. It consolidates general best practices with common conventions for creating components and pages, with a strong emphasis on using `shadcn/ui` components from `src/components/ui` and `lucide-react` for icons.

All team members should adapt and adhere to these guidelines to ensure consistency, maintainability, and high-quality user experiences across desktop and mobile platforms.

## 2. Core Principles

### 2.1. General UI/UX Principles

- **Clarity**: Interfaces must be intuitive and easy to understand.
- **Consistency**: Maintain uniform design patterns, terminology, and interactions.
- **User Control**: Empower users with clear navigation, undo actions, and control over their data.
- **Feedback**: Provide immediate and clear system feedback for all user actions.
- **Error Handling**: Prevent errors where possible; guide users through resolving them when they occur.
- **Efficiency**: Streamline common tasks and minimize user effort.
- **Simplicity**: Avoid unnecessary complexity in design and functionality.

### 2.2. Development & Technical Principles

- **Component-Driven Development**: Build UIs by composing reusable React components.
- **`shadcn/ui` First**: **Prioritize using components from `src/components/ui` (which are typically `shadcn/ui` based) for all UI elements.**
- **Tailwind CSS for Customization & Fallback**:
  - Customize `shadcn/ui` components using Tailwind CSS utility classes via the `className` prop.
  - If a suitable component is not available in `shadcn/ui`, create custom components styled directly with Tailwind CSS (typically placed in `src/components/common/`).
- **No External CSS Files (Except `src/index.css`)**: All styling should be achieved through Tailwind CSS utility classes within `.tsx` files or global styles defined in `src/index.css`. Avoid creating separate CSS files for individual components.
- **TypeScript for Type Safety**: Enforce strong typing for props, state, and functions.
- **Vite for Build & Dev**: Leverage Vite's speed and features for an optimal development experience.
- **Modularity & Folder Structure**: Adhere to a clear and consistent project organization (refer to the `@folder-structure` rules for specifics).
- **`cn` Utility**: Always use a utility like `cn` (e.g., from `@/lib/utils`, which uses `clsx` and `tailwind-merge`) for conditional and merged class names.
- **`lucide-react` for Icons**: **All icons MUST be sourced from the `lucide-react` library** to ensure visual consistency.
- **Accessibility (A11y)**: Design and build for all users from the outset. Adhere to WCAG 2.1 AA standards where feasible.
- **Mobile-First Responsive Design**: Design for mobile constraints first, then progressively enhance for larger screens.

### 2.3. Project Specific Principles

- This project uses Vite as its build tool. Configuration related to Tailwind CSS paths should be managed in `tailwind.config.js` and `postcss.config.js` as appropriate for a Vite setup.

## 3. File & Project Structure (Refer to `@folder-structure`)

Refer to your project's specific folder structure guidelines (`@folder-structure`). Key points related to UI components include:

- **Components (`src/components/`)**:
  - `common/`: Custom-built, globally reusable UI elements (e.g., `AuthDialog.tsx`, `LoadingSpinner.tsx`). These might be composed of `shadcn/ui` components or custom Tailwind components if no `shadcn/ui` equivalent exists. Contains its own `index.ts` for barrel exports.
  - `ui/`: **This directory is the primary source for UI building blocks (e.g., `Button.tsx`, `Card.tsx`, `Input.tsx` from `shadcn/ui`). Files in this directory are typically generated by a CLI (e.g., shadcn/ui CLI) and should not be manually created or significantly modified beyond theme customization or minor adjustments if necessary. New components are added here via the CLI, not manually.** Contains its own `index.ts` for barrel exports.
  - Imports should be made directly from these subdirectories (e.g., `import { Button } from "@/components/ui";`, `import { CustomModal } from "@/components/common";`). The `src/components/index.ts` file **must not** be used or created, as per `@folder-structure`.
- **Features (`src/features/`)**:
  - `[feature-name]/components/`: Components specific to a feature (e.g., `src/features/user-profile/components/`), built using `shadcn/ui` components or custom Tailwind components, and exported via an `index.ts` file within this directory.
  - `[feature-name]/pages/`: Page components for a feature, also exported via an `index.ts`.
- **Layouts (`src/layouts/`)**: Define overall page structure (e.g., `MainLayout.tsx`, `DashboardLayout.tsx`), exported via `src/layouts/index.ts`.
- **Naming**: `PascalCase.tsx` for custom React components in specified directories. `kebab-case` for feature directory names (e.g., `user-profile`). `shadcn/ui` components in `src/components/ui/` retain their original (often kebab-case) naming from the CLI generation.

## 4. Tailwind CSS Usage Standards

### 4.1. Class Organization and `cn` Utility

- **`cn` Utility is Mandatory**: Always use the `cn` utility function (typically from `@/lib/utils`, combining `clsx` for conditional classes and `tailwind-merge` for resolving conflicts) for applying classes in components.

  ```ts
  // src/lib/utils.ts
  import { type ClassValue, clsx } from "clsx";
  import { twMerge } from "tailwind-merge";

  export function cn(...inputs: ClassValue[]) {
    return twMerge(clsx(inputs));
  }
  ```

- **Consistent Class Ordering**: Logical order for readability (Positioning > Box Model > Typography > Backgrounds > Effects > Interactivity).
- **Readability**: For very long class strings, consider breaking them or applying styles to granular child elements.

**Example using `cn` with `shadcn/ui` Button component:**

```tsx
import { cn } from "@/lib/utils";
import { Button, type ButtonProps } from "@/components/ui/button";

interface MyCustomButtonProps extends ButtonProps {
  isActive?: boolean;
}

export function MyCustomButton({
  variant = "default",
  size = "default",
  className,
  isActive,
  children,
  ...props
}: MyCustomButtonProps) {
  return (
    <Button
      variant={variant}
      size={size}
      className={cn(
        "transition-all duration-150 ease-in-out",
        {
          "ring-2 ring-indigo-500 ring-offset-2": isActive,
          "hover:scale-105 active:scale-95":
            variant !== "link" && variant !== "ghost",
        },
        className
      )}
      {...props}
    >
      {children}
    </Button>
  );
}
```

### 4.2. Responsive Design

- **Mobile-First Approach**: Design for small screens first, use Tailwind's responsive prefixes (`sm:`, `md:`, etc.) for larger screens.
- **Breakpoints**: Align with Tailwind's defaults unless customized in `tailwind.config.js`.

**Example (Responsive Grid using `shadcn/ui` Card):**

```tsx
// src/features/example-feature/components/ItemCard.tsx
// (Illustrative example, assuming ItemCard uses shadcn/ui Card)
// Consuming code might look like:
// <div className="grid grid-cols-1 gap-4 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
//   {items.map((item) => (
//     <ItemCard key={item.id} item={item} />
//   ))}
// </div>
```

### 4.3. Dark Mode

- **Leverage `shadcn/ui` Theming**: `shadcn/ui` components support dark mode via CSS variables. Ensure theme setup (e.g., in `src/index.css` and a theme provider) is correct.
- **Use `dark:` Prefix**: For custom styling not covered by `shadcn/ui` variables, use the `dark:` prefix.
- **Semantic Colors**: Prefer theme colors (`bg-background`, `text-foreground`, etc.).

### 4.4. Customizing Tailwind (`tailwind.config.js`)

- **Content Path**: Ensure `content` in `tailwind.config.js` includes `'./src/**/*.{ts,tsx,js,jsx}'` for Vite projects.
  ```js
  // tailwind.config.js (simplified for Vite)
  /** @type {import('tailwindcss').Config} */
  module.exports = {
    darkMode: ["class"],
    content: ["./src/**/*.{ts,tsx,js,jsx}" /* other paths if necessary */],
    // ... other shadcn/ui typical theme extensions (colors, borderRadius, keyframes, animation) and plugins (tailwindcss-animate)
  };
  ```
- **Theme Extensions (`theme.extend`)**: `shadcn/ui` theming is primarily via CSS variables in `src/index.css`, referenced in `tailwind.config.js`.

## 5. Component Design & Styling (`.tsx`)

### 5.1. `shadcn/ui` Components as Priority

- **Check `src/components/ui/` first** (e.g., `Button`, `Input`, `Card`).
- **Customize via `className`** with `cn` utility.
- **Leverage `asChild`** for composition with elements like `react-router-dom`'s `Link`.

  ```tsx
  import { Button } from "@/components/ui/button";
  import { Link } from "react-router-dom";

  <Button asChild variant="outline">
    <Link to="/settings">Go to Settings</Link>
  </Button>;
  ```

- **Utilize Variants**: Use pre-defined variants before extensive custom styling.

### 5.2. Custom Components

- Place in `src/components/common/` (global) or `src/features/[feature-name]/components/` (feature-specific).
- Style with Tailwind CSS and `cn` utility.
- **Props**: Define explicit TypeScript interfaces, include `className?: string`, type `children`.

**Reusable Custom Component Example (`InfoCard.tsx`):**

```tsx
// src/components/common/InfoCard.tsx
import { cn } from "@/lib/utils";
import {
  Card,
  CardHeader,
  CardTitle,
  CardDescription,
  CardContent,
  CardFooter,
} from "@/components/ui/card";
import type React from "react";

interface InfoCardProps extends React.HTMLAttributes<HTMLDivElement> {
  title: string;
  description?: string;
  children: React.ReactNode;
  footerContent?: React.ReactNode;
}

export function InfoCard({
  title,
  description,
  children,
  footerContent,
  className,
  ...props
}: InfoCardProps) {
  return (
    <Card className={cn("w-full", className)} {...props}>
      <CardHeader>
        <CardTitle>{title}</CardTitle>
        {description && <CardDescription>{description}</CardDescription>}
      </CardHeader>
      <CardContent>{children}</CardContent>
      {footerContent && (
        <CardFooter className="justify-end">{footerContent}</CardFooter>
      )}
    </Card>
  );
}
```

### 5.3. Icons (`lucide-react`)

- **Mandatory Use**: All icons from `lucide-react`.
- **Import**: E.g., `import { ArrowRight, CheckCircle, UserPlus } from "lucide-react";`.
- **Styling**: Use Tailwind classes (`h-`, `w-`, `text-`, `stroke-`).

  ```tsx
  import { UserPlus, Settings, AlertTriangle } from "lucide-react";
  import { Button } from "@/components/ui/button";
  import { Alert, AlertDescription, AlertTitle } from "@/components/ui/alert";

  <Button variant="outline" size="icon" aria-label="Add user">
    <UserPlus className="h-4 w-4" />
  </Button>
  <Settings className="h-6 w-6 text-muted-foreground hover:text-foreground transition-colors" />
  <Alert variant="destructive">
    <AlertTriangle className="h-4 w-4" />
    <AlertTitle>Error</AlertTitle>
    <AlertDescription>Something went wrong.</AlertDescription>
  </Alert>
  ```

### 5.4. Page Layout and Section Separation Principles

- **Default: Spacing and `<Separator />`**: Prioritize Tailwind spacing utilities (`py-6`, `mt-8`) or `shadcn/ui <Separator />` (`@/components/ui/separator`).
- **Minimize Embellishments for General Sections**: Avoid using default `border`, `rounded`, or `shadow` (as often provided by `<Card>`) for _every_ content section. Prefer a cleaner look achieved through spacing and typography.

- **Explicit `<Card>` Usage (User-Directed Only)**:

  - The `shadcn/ui <Card>` component **must only be used when explicitly specified by the user.**
  - The AI assistant should **not** proactively decide to use `<Card>` components for page structuring or sectioning, even for content that might seem like a "distinct, self-contained unit."
  - If the user requests the use of a `<Card>` for a specific part of the UI, then it should be implemented according to `shadcn/ui` best practices for that component (e.g., for a user profile summary, a specific settings panel, a dashboard widget, or a form, if the user asks for it to be card-based).
  - In the absence of a specific user instruction to use a `<Card>`, always prefer using Tailwind CSS spacing utilities, `<Separator />` components, and appropriate semantic HTML elements for layout and sectioning as outlined above.
  - This rule ensures that `<Card>` components are used deliberately and align with the user's explicit design choices, preventing overuse or AI-driven assumptions about their placement.

- **Layout Components**: For overall page structure (header, footer, sidebars), use dedicated Layout Components as defined in `@folder-structure` (e.g., `MainLayout.tsx`).

## 6. Typography

- Use `rem` for base font sizes (Tailwind default).
- Adjust text sizes responsively (`text-sm md:text-base`).
- Leverage `shadcn/ui` font theming via `src/index.css` and Tailwind utilities.
- Use semantic HTML (`<h1>-<h6>`, `<p>`) styled with Tailwind.

## 7. Forms

- **Primary Toolset**: `shadcn/ui` Form components (`@/components/ui/form`), React Hook Form, and Zod (see `@forms-validation`).
- **Structure**: `Form`, `FormField`, `FormItem`, `FormLabel`, `FormControl`, `FormDescription`, `FormMessage` from `shadcn/ui`.

## 8. Images & Media

- **Responsiveness**: Tailwind utilities (`w-full`, `object-cover`), `shadcn/ui <AspectRatio />`.
- **Optimization**: Compress images; consider Vite plugins.
- **Lazy Loading**: `<img loading="lazy" ...>`.
- **Accessibility**: Provide `alt` text.

## 9. UI Patterns for States

- **Loading**: `shadcn/ui <Skeleton />`, `lucide-react` spinners (e.g., `Loader2`) with `animate-spin`.
- **Error**: `shadcn/ui <Alert variant="destructive">` with `lucide-react` icon.
- **Empty**: Text, `lucide-react` icon (e.g., `Inbox`), optional `<Card />` or CTA Button.

## 10. TypeScript in `.tsx` for Styling & Components

- Strict typing for props. Explicit interfaces/types for props and component returns.

## 11. Vite & Tailwind Configuration Notes

- **`tailwind.config.js`**: `content` paths for Vite (`'./src/**/*.{ts,tsx,js,jsx}'`).
- **`src/index.css`**: Tailwind directives, `shadcn/ui` theme variables, global base styles, custom font imports.

## 12. Accessibility (A11y) Reminders

- Semantic HTML, keyboard navigability, focus states, ARIA attributes (often handled by `shadcn/ui`), color contrast.

## 13. Testing for Responsiveness & UI Consistency

- Regularly test across different browser dev tools and physical devices.

This comprehensive guide, emphasizing `shadcn/ui`, `lucide-react`, and Tailwind CSS best practices within a Vite + React + TypeScript project, should serve as a strong foundation for your UI development efforts.
